# 媒体流检测工具

这是一个用于检测和管理媒体流（直播源）的工具，支持多种格式的直播源检测、管理和同步功能。

## 系统架构

### 前端架构
- 基于Vue.js框架开发
- 使用Element UI组件库构建界面
- 采用组件化开发方式，主要包含以下组件：
  1. `Header.vue`: 顶部导航栏组件
     - 显示本机IP和公网IP信息
     - 显示网络运营商信息
     - 显示IPv6支持状态
  2. `StreamCheck.vue`: 直播源检测组件
     - 支持直播源列表管理
     - 支持直播源检测和状态更新
     - 支持直播源分组管理
     - 支持直播源导入导出
  3. `Settings.vue`: 系统设置组件
     - 服务器IP配置
     - FFprobe路径配置
     - 自动检测设置
     - GitHub同步设置

### 后端架构
- 基于Spring Boot框架开发
- 主要控制器：
  1. `StreamController`: 处理直播源相关请求
  2. `NetworkController`: 处理网络信息相关请求
  3. `SystemController`: 处理系统配置相关请求
  4. `GithubService`: 处理GitHub同步相关功能

## 主要功能

### 1. 直播源管理
- 支持多种格式直播源导入（txt、m3u、m3u8）
- 支持直播源分组管理（CCTV、卫视等）
- 支持直播源状态检测
- 支持直播源自动清理（异常源、响应慢、分辨率低）

### 2. 网络检测
- 显示本机IP和公网IP
- 显示网络运营商信息
- 检测IPv6支持状态
- 支持IP地址复制功能

### 3. 系统设置
- 服务器IP配置
- FFprobe路径配置
- 自动检测设置
  - 自动检测间隔
  - 自动清理设置
  - 多播源处理设置

### 4. GitHub同步
- 支持直播源列表同步到GitHub
- 支持定时同步
- 支持多种同步模式（txt、m3u、m3u8）

## 技术特点

1. 前后端分离架构
2. RESTful API设计
3. 组件化开发
4. 响应式设计
5. 实时状态更新
6. 自动重试机制
7. 错误处理和日志记录

## 使用说明

1. 系统设置
   - 配置服务器IP地址
   - 配置FFprobe路径
   - 根据需要配置自动检测参数

2. 直播源管理
   - 导入直播源（支持txt、m3u、m3u8格式）
   - 查看直播源状态
   - 管理直播源分组
   - 导出直播源列表

3. GitHub同步
   - 配置GitHub仓库信息
   - 设置同步参数
   - 手动或自动同步直播源

## 注意事项

1. 确保服务器IP配置正确
2. FFprobe路径必须正确配置
3. GitHub同步需要有效的访问令牌
4. 自动检测功能可能会消耗系统资源
5. 多播源处理需要根据实际需求配置

## 开发环境要求

- Node.js >= 12.0.0
- Java >= 8
- FFprobe
- Maven
- Git

## 部署说明

1. 前端部署
   ```bash
   npm install
   npm run build
   ```

2. 后端部署
   ```bash
   mvn clean package
   java -jar target/check-0.0.1-SNAPSHOT.jar
   ```

## 更新日志

### v1.0.0
- 初始版本发布
- 支持基本直播源管理功能
- 支持网络检测功能
- 支持GitHub同步功能 