{"ast":null,"code":"export default {\n  name: 'StreamCheck',\n  data() {\n    return {\n      loading: false,\n      streamList: [],\n      dialogVisible: false,\n      dialogTitle: '添加直播源',\n      isEdit: false,\n      streamForm: {\n        name: '',\n        url: '',\n        group: '',\n        resolution: '',\n        responseTime: 0,\n        status: '未检测'\n      },\n      currentRow: null\n    };\n  },\n  created() {\n    // 添加一些测试数据\n    this.streamList = [{\n      name: 'CCTV1',\n      url: 'http://example.com/cctv1.m3u8',\n      resolution: '1920x1080',\n      responseTime: 200,\n      group: 'CCTV',\n      status: '正常'\n    }, {\n      name: 'CCTV2',\n      url: 'http://example.com/cctv2.m3u8',\n      resolution: '1280x720',\n      responseTime: 150,\n      group: 'CCTV',\n      status: '异常'\n    }];\n  },\n  methods: {\n    showAddDialog() {\n      this.isEdit = false;\n      this.dialogTitle = '添加直播源';\n      this.streamForm = {\n        name: '',\n        url: '',\n        group: '',\n        resolution: '',\n        responseTime: 0,\n        status: '未检测'\n      };\n      this.dialogVisible = true;\n    },\n    handleEdit(row) {\n      this.isEdit = true;\n      this.dialogTitle = '编辑直播源';\n      this.currentRow = row;\n      this.streamForm = {\n        ...row\n      };\n      this.dialogVisible = true;\n    },\n    handleCheck(row) {\n      this.$message.success(`开始检测: ${row.name}`);\n      // TODO: 实现检测逻辑\n    },\n    handleDelete(row) {\n      this.$confirm('确认删除该直播源?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        const index = this.streamList.indexOf(row);\n        this.streamList.splice(index, 1);\n        this.$message.success('删除成功');\n      }).catch(() => {});\n    },\n    batchCheck() {\n      this.$message.success('开始批量检测');\n      // TODO: 实现批量检测逻辑\n    },\n    handleSubmit() {\n      if (this.isEdit) {\n        Object.assign(this.currentRow, this.streamForm);\n      } else {\n        this.streamList.push({\n          ...this.streamForm\n        });\n      }\n      this.dialogVisible = false;\n      this.$message.success(this.isEdit ? '修改成功' : '添加成功');\n    }\n  }\n};","map":{"version":3,"names":["name","data","loading","streamList","dialogVisible","dialogTitle","isEdit","streamForm","url","group","resolution","responseTime","status","currentRow","created","methods","showAddDialog","handleEdit","row","handleCheck","$message","success","handleDelete","$confirm","confirmButtonText","cancelButtonText","type","then","index","indexOf","splice","catch","batchCheck","handleSubmit","Object","assign","push"],"sources":["src/components/StreamCheck.vue"],"sourcesContent":["<template>\r\n  <div class=\"stream-check\">\r\n    <div class=\"table-operations\">\r\n      <el-button type=\"primary\" icon=\"el-icon-plus\" @click=\"showAddDialog\">添加直播源</el-button>\r\n      <el-button type=\"success\" icon=\"el-icon-refresh\" @click=\"batchCheck\">批量检测</el-button>\r\n    </div>\r\n\r\n    <el-table\r\n      :data=\"streamList\"\r\n      border\r\n      style=\"width: 100%\"\r\n      v-loading=\"loading\">\r\n      <el-table-column\r\n        prop=\"name\"\r\n        label=\"名称\"\r\n        min-width=\"120\">\r\n      </el-table-column>\r\n      \r\n      <el-table-column\r\n        prop=\"url\"\r\n        label=\"链接\"\r\n        min-width=\"200\"\r\n        show-overflow-tooltip>\r\n      </el-table-column>\r\n      \r\n      <el-table-column\r\n        prop=\"resolution\"\r\n        label=\"分辨率\"\r\n        width=\"120\">\r\n      </el-table-column>\r\n      \r\n      <el-table-column\r\n        prop=\"responseTime\"\r\n        label=\"响应速度\"\r\n        width=\"120\">\r\n        <template slot-scope=\"scope\">\r\n          {{ scope.row.responseTime }}ms\r\n        </template>\r\n      </el-table-column>\r\n      \r\n      <el-table-column\r\n        prop=\"group\"\r\n        label=\"分组\"\r\n        width=\"120\">\r\n      </el-table-column>\r\n      \r\n      <el-table-column\r\n        prop=\"status\"\r\n        label=\"状态\"\r\n        width=\"100\">\r\n        <template slot-scope=\"scope\">\r\n          <el-tag :type=\"scope.row.status === '正常' ? 'success' : 'danger'\">\r\n            {{ scope.row.status }}\r\n          </el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      \r\n      <el-table-column\r\n        label=\"操作\"\r\n        width=\"200\"\r\n        fixed=\"right\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button\r\n            size=\"mini\"\r\n            type=\"primary\"\r\n            @click=\"handleCheck(scope.row)\">检测</el-button>\r\n          <el-button\r\n            size=\"mini\"\r\n            type=\"warning\"\r\n            @click=\"handleEdit(scope.row)\">编辑</el-button>\r\n          <el-button\r\n            size=\"mini\"\r\n            type=\"danger\"\r\n            @click=\"handleDelete(scope.row)\">删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <!-- 添加/编辑对话框 -->\r\n    <el-dialog\r\n      :title=\"dialogTitle\"\r\n      :visible.sync=\"dialogVisible\"\r\n      width=\"500px\">\r\n      <el-form :model=\"streamForm\" label-width=\"80px\" ref=\"streamForm\">\r\n        <el-form-item label=\"名称\" prop=\"name\">\r\n          <el-input v-model=\"streamForm.name\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"链接\" prop=\"url\">\r\n          <el-input v-model=\"streamForm.url\" type=\"textarea\" :rows=\"3\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"分组\" prop=\"group\">\r\n          <el-select v-model=\"streamForm.group\" placeholder=\"请选择分组\">\r\n            <el-option label=\"CCTV\" value=\"CCTV\"></el-option>\r\n            <el-option label=\"卫视\" value=\"卫视\"></el-option>\r\n            <el-option label=\"地方台\" value=\"地方台\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"handleSubmit\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'StreamCheck',\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      streamList: [],\r\n      dialogVisible: false,\r\n      dialogTitle: '添加直播源',\r\n      isEdit: false,\r\n      streamForm: {\r\n        name: '',\r\n        url: '',\r\n        group: '',\r\n        resolution: '',\r\n        responseTime: 0,\r\n        status: '未检测'\r\n      },\r\n      currentRow: null\r\n    }\r\n  },\r\n  created() {\r\n    // 添加一些测试数据\r\n    this.streamList = [\r\n      {\r\n        name: 'CCTV1',\r\n        url: 'http://example.com/cctv1.m3u8',\r\n        resolution: '1920x1080',\r\n        responseTime: 200,\r\n        group: 'CCTV',\r\n        status: '正常'\r\n      },\r\n      {\r\n        name: 'CCTV2',\r\n        url: 'http://example.com/cctv2.m3u8',\r\n        resolution: '1280x720',\r\n        responseTime: 150,\r\n        group: 'CCTV',\r\n        status: '异常'\r\n      }\r\n    ]\r\n  },\r\n  methods: {\r\n    showAddDialog() {\r\n      this.isEdit = false\r\n      this.dialogTitle = '添加直播源'\r\n      this.streamForm = {\r\n        name: '',\r\n        url: '',\r\n        group: '',\r\n        resolution: '',\r\n        responseTime: 0,\r\n        status: '未检测'\r\n      }\r\n      this.dialogVisible = true\r\n    },\r\n    handleEdit(row) {\r\n      this.isEdit = true\r\n      this.dialogTitle = '编辑直播源'\r\n      this.currentRow = row\r\n      this.streamForm = { ...row }\r\n      this.dialogVisible = true\r\n    },\r\n    handleCheck(row) {\r\n      this.$message.success(`开始检测: ${row.name}`)\r\n      // TODO: 实现检测逻辑\r\n    },\r\n    handleDelete(row) {\r\n      this.$confirm('确认删除该直播源?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        const index = this.streamList.indexOf(row)\r\n        this.streamList.splice(index, 1)\r\n        this.$message.success('删除成功')\r\n      }).catch(() => {})\r\n    },\r\n    batchCheck() {\r\n      this.$message.success('开始批量检测')\r\n      // TODO: 实现批量检测逻辑\r\n    },\r\n    handleSubmit() {\r\n      if (this.isEdit) {\r\n        Object.assign(this.currentRow, this.streamForm)\r\n      } else {\r\n        this.streamList.push({ ...this.streamForm })\r\n      }\r\n      this.dialogVisible = false\r\n      this.$message.success(this.isEdit ? '修改成功' : '添加成功')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.stream-check {\r\n  padding: 20px;\r\n  background-color: #fff;\r\n  border-radius: 4px;\r\n}\r\n\r\n.table-operations {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.el-button + .el-button {\r\n  margin-left: 10px;\r\n}\r\n</style> "],"mappings":"AA2GA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,OAAA;MACAC,UAAA;MACAC,aAAA;MACAC,WAAA;MACAC,MAAA;MACAC,UAAA;QACAP,IAAA;QACAQ,GAAA;QACAC,KAAA;QACAC,UAAA;QACAC,YAAA;QACAC,MAAA;MACA;MACAC,UAAA;IACA;EACA;EACAC,QAAA;IACA;IACA,KAAAX,UAAA,IACA;MACAH,IAAA;MACAQ,GAAA;MACAE,UAAA;MACAC,YAAA;MACAF,KAAA;MACAG,MAAA;IACA,GACA;MACAZ,IAAA;MACAQ,GAAA;MACAE,UAAA;MACAC,YAAA;MACAF,KAAA;MACAG,MAAA;IACA,EACA;EACA;EACAG,OAAA;IACAC,cAAA;MACA,KAAAV,MAAA;MACA,KAAAD,WAAA;MACA,KAAAE,UAAA;QACAP,IAAA;QACAQ,GAAA;QACAC,KAAA;QACAC,UAAA;QACAC,YAAA;QACAC,MAAA;MACA;MACA,KAAAR,aAAA;IACA;IACAa,WAAAC,GAAA;MACA,KAAAZ,MAAA;MACA,KAAAD,WAAA;MACA,KAAAQ,UAAA,GAAAK,GAAA;MACA,KAAAX,UAAA;QAAA,GAAAW;MAAA;MACA,KAAAd,aAAA;IACA;IACAe,YAAAD,GAAA;MACA,KAAAE,QAAA,CAAAC,OAAA,UAAAH,GAAA,CAAAlB,IAAA;MACA;IACA;IACAsB,aAAAJ,GAAA;MACA,KAAAK,QAAA;QACAC,iBAAA;QACAC,gBAAA;QACAC,IAAA;MACA,GAAAC,IAAA;QACA,MAAAC,KAAA,QAAAzB,UAAA,CAAA0B,OAAA,CAAAX,GAAA;QACA,KAAAf,UAAA,CAAA2B,MAAA,CAAAF,KAAA;QACA,KAAAR,QAAA,CAAAC,OAAA;MACA,GAAAU,KAAA;IACA;IACAC,WAAA;MACA,KAAAZ,QAAA,CAAAC,OAAA;MACA;IACA;IACAY,aAAA;MACA,SAAA3B,MAAA;QACA4B,MAAA,CAAAC,MAAA,MAAAtB,UAAA,OAAAN,UAAA;MACA;QACA,KAAAJ,UAAA,CAAAiC,IAAA;UAAA,QAAA7B;QAAA;MACA;MACA,KAAAH,aAAA;MACA,KAAAgB,QAAA,CAAAC,OAAA,MAAAf,MAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}