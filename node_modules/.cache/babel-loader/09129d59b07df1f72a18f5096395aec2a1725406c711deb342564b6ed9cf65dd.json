{"ast":null,"code":"export default {\n  name: 'StreamCheck',\n  data() {\n    return {\n      loading: false,\n      streamList: [],\n      importUrlDialogVisible: false,\n      importUrlForm: {\n        url: '',\n        isChecking: false,\n        isAccessible: null\n      },\n      importRules: {\n        url: [{\n          required: true,\n          message: '请输入URL地址',\n          trigger: 'blur'\n        }, {\n          type: 'url',\n          message: '请输入正确的URL地址',\n          trigger: ['blur', 'change']\n        }],\n        group: [{\n          required: true,\n          message: '请选择分组',\n          trigger: 'change'\n        }]\n      },\n      currentPage: 1,\n      pageSize: 5,\n      isChecking: false,\n      isPaused: false,\n      checkedCount: 0,\n      totalCount: 0,\n      pausedIndex: -1,\n      shouldStop: false,\n      isCollecting: false,\n      collectDialogVisible: false,\n      collectForm: {\n        urls: [''],\n        urlStatus: {},\n        // 添加urlStatus对象\n        autoCollect: false,\n        collectType: 'daily',\n        executeTime: '09:00',\n        weekDay: '1',\n        mode: 'tv'\n      },\n      collectRules: {\n        urls: [{\n          type: 'array',\n          validator: (rule, value, callback) => {\n            if (value.length === 0) {\n              callback(new Error('请至少添加一个采集地址'));\n            }\n            // 验证每个URL\n            const errors = value.map(url => {\n              if (!url) return '采集地址不能为空';\n              if (!/^https?:\\/\\/.+/.test(url)) return '请输入正确的URL地址';\n              return null;\n            }).filter(error => error !== null);\n            if (errors.length > 0) {\n              callback(new Error(errors[0]));\n            } else {\n              callback();\n            }\n          },\n          trigger: 'change'\n        }],\n        executeTime: [{\n          required: true,\n          message: '请选择执行时间',\n          trigger: 'change'\n        }],\n        weekDay: [{\n          required: true,\n          message: '请选择执行日期',\n          trigger: 'change'\n        }]\n      },\n      collectTimer: null,\n      generateLinkDialogVisible: false,\n      generatedLink: '',\n      previewContent: '',\n      // 新增预览内容\n      currentLinkId: '',\n      scheduleDialogVisible: false,\n      isScheduled: false,\n      scheduleForm: {\n        scheduleType: 'daily',\n        executeTime: '09:00',\n        weekDay: '1'\n      },\n      scheduleRules: {\n        executeTime: [{\n          required: true,\n          message: '请选择执行时间',\n          trigger: 'change'\n        }],\n        weekDay: [{\n          required: true,\n          message: '请选择执行日期',\n          trigger: 'change'\n        }]\n      },\n      scheduleTimer: null,\n      nextScheduleTime: null,\n      stateKey: 'streamCheckState',\n      // 用于本地存储的key\n      hasActiveOperations: false,\n      // 添加标记表示是否有动作在执行\n      linkForm: {\n        format: 'txt' // 默认txt格式\n      },\n      searchDialogVisible: false,\n      searchForm: {\n        name: '',\n        group: '',\n        status: ''\n      },\n      filteredList: [],\n      // 用于存储搜索过滤后的列表\n      realIp: '',\n      // 存储真实IP地址\n      syncDialogVisible: false,\n      syncForm: {\n        token: localStorage.getItem('githubToken') || '',\n        repo: localStorage.getItem('githubRepo') || '',\n        txtPath: localStorage.getItem('githubTxtPath') || '',\n        m3uPath: localStorage.getItem('githubM3uPath') || '',\n        autoSync: localStorage.getItem('githubAutoSync') === 'true',\n        syncType: localStorage.getItem('githubSyncType') || 'daily',\n        executeTime: localStorage.getItem('githubExecuteTime') || '00:00',\n        weekDay: localStorage.getItem('githubWeekDay') || '1',\n        message: '更新直播源列表'\n      },\n      syncRules: {\n        token: [{\n          required: true,\n          message: '请输入GitHub Token',\n          trigger: 'blur'\n        }],\n        repo: [{\n          required: true,\n          message: '请输入仓库名称',\n          trigger: 'blur'\n        }, {\n          pattern: /^[\\w-]+\\/[\\w-]+$/,\n          message: '格式：用户名/仓库名',\n          trigger: 'blur'\n        }],\n        txtPath: [{\n          required: true,\n          message: '请输入文件路径',\n          trigger: 'blur'\n        }],\n        m3uPath: [{\n          required: true,\n          message: '请输入文件路径',\n          trigger: 'blur'\n        }],\n        message: [{\n          required: true,\n          message: '请输入提交消息',\n          trigger: 'blur'\n        }]\n      },\n      syncTimer: null,\n      messages: [],\n      // 用于存储消息\n      messageId: 0,\n      // 用于生成唯一的消息ID\n      isPageSwitching: false,\n      // 添加页面切换标志\n      // 添加标准分组名称常量\n      STANDARD_GROUPS: {\n        CCTV: '央视频道',\n        SATELLITE: '卫视频道'\n      }\n    };\n  },\n  computed: {\n    paginatedData() {\n      // 使用过滤后的列表进行分页\n      const start = (this.currentPage - 1) * this.pageSize;\n      const end = start + this.pageSize;\n      return (this.filteredList.length > 0 ? this.filteredList : this.streamList).slice(start, end);\n    },\n    checkButtonText() {\n      if (!this.isChecking && !this.isPaused) {\n        return '批量检测';\n      }\n      return `检测中 ${this.checkedCount}/${this.totalCount}`;\n    },\n    mergedStreams() {\n      // 创建一个Map来存储合并后的直播源\n      const streamMap = new Map();\n\n      // 按照当前列表顺序处理每个直播源\n      this.streamList.forEach(stream => {\n        const key = stream.name; // 使用名称作为键\n\n        if (streamMap.has(key)) {\n          // 如果已存在相同名称的直播源，添加到URLs数组\n          const existing = streamMap.get(key);\n          if (!existing.urls.includes(stream.url)) {\n            existing.urls.push(stream.url);\n          }\n        } else {\n          // 如果是新的名称，创建新条目\n          streamMap.set(key, {\n            name: stream.name,\n            urls: [stream.url],\n            group: stream.group\n          });\n        }\n      });\n\n      // 转换回数组格式\n      return Array.from(streamMap.values());\n    },\n    groupOptions() {\n      return [...new Set(this.streamList.map(item => item.group))];\n    }\n  },\n  created() {\n    // 初始化时加载持久化的数据\n    if (localStorage.getItem('persistentData') === 'true') {\n      const savedList = localStorage.getItem('streamList');\n      if (savedList) {\n        this.streamList = JSON.parse(savedList);\n        // 初始化时检查多播源\n        this.$nextTick(() => {\n          this.checkMulticastStreams(); // 使用新方法\n        });\n      }\n    }\n\n    // 监听保存事件\n    this.$root.$on('save-stream-list', this.saveStreamList);\n\n    // 监听设置更新事件\n    this.$root.$on('settings-updated', this.handleSettingsUpdate);\n\n    // 从本地存储恢复状态\n    this.restoreState();\n\n    // 如果定时检测是开启状态，重新启动定时器\n    if (this.isScheduled) {\n      this.setupSchedule();\n    }\n    // 如果采集是开启状态，重新启动采集\n    if (this.isCollecting) {\n      this.startCollecting(true); // true表示是恢复状态\n    }\n    // 如果GitHub自动同步是开启状态，重新启动同步定时器\n    if (this.syncForm.autoSync) {\n      this.setupSyncSchedule();\n    }\n    this.filteredList = [];\n    this.getRealIp(); // 获取真实IP地址\n  },\n  beforeDestroy() {\n    // 移除事件监听\n    this.$root.$off('save-stream-list', this.saveStreamList);\n    this.$root.$off('settings-updated', this.handleSettingsUpdate);\n    // 组件销毁前清除定时器\n    if (this.collectTimer) {\n      clearInterval(this.collectTimer);\n    }\n    // 组件销毁时清理定时器\n    this.stopScheduleCheck();\n    // 在组件销毁前保存状态\n    this.saveState();\n    window.removeEventListener('beforeunload', this.handleBeforeUnload);\n  },\n  methods: {\n    // 添加处理设置更新的方法\n    handleSettingsUpdate(event) {\n      console.log('收到设置更新事件:', event);\n      if (event && event.type === 'settings-changed' && event.settings) {\n        console.log('设置已更新，当前设置:', event.settings);\n        // 重新检查所有多播源\n        this.$nextTick(() => {\n          this.checkMulticastStreams();\n        });\n      }\n    },\n    // 添加多播源检测的辅助方法\n    isMulticastStream(url) {\n      if (!url) return false;\n\n      // 更完整的多播源检测正则表达式\n      const patterns = [\n      // 标准格式\n      /[/](udp|rtp)[/]239\\.\\d+\\.\\d+\\.\\d+:\\d+/i, /[/](udp|rtp)[/]225\\.\\d+\\.\\d+\\.\\d+:\\d+/i, /[/](udp|rtp)[/]224\\.\\d+\\.\\d+\\.\\d+:\\d+/i,\n      // 带@的格式\n      /^(udp|rtp):\\/\\/@239\\.\\d+\\.\\d+\\.\\d+:\\d+/i, /^(udp|rtp):\\/\\/@225\\.\\d+\\.\\d+\\.\\d+:\\d+/i, /^(udp|rtp):\\/\\/@224\\.\\d+\\.\\d+\\.\\d+:\\d+/i,\n      // 不带@的格式\n      /^(udp|rtp):\\/\\/239\\.\\d+\\.\\d+\\.\\d+:\\d+/i, /^(udp|rtp):\\/\\/225\\.\\d+\\.\\d+\\.\\d+:\\d+/i, /^(udp|rtp):\\/\\/224\\.\\d+\\.\\d+\\.\\d+:\\d+/i,\n      // IPv6格式\n      /^(udp|rtp):\\/\\/\\[239\\.\\d+\\.\\d+\\.\\d+\\]:\\d+/i, /^(udp|rtp):\\/\\/\\[225\\.\\d+\\.\\d+\\.\\d+\\]:\\d+/i, /^(udp|rtp):\\/\\/\\[224\\.\\d+\\.\\d+\\.\\d+\\]:\\d+/i,\n      // 其他常见格式\n      /^(udp|rtp):\\/\\/@?239\\.\\d+\\.\\d+\\.\\d+[/]\\d+/i, /^(udp|rtp):\\/\\/@?225\\.\\d+\\.\\d+\\.\\d+[/]\\d+/i, /^(udp|rtp):\\/\\/@?224\\.\\d+\\.\\d+\\.\\d+[/]\\d+/i,\n      // 简单格式\n      /^udp\\/@?239\\.\\d+\\.\\d+\\.\\d+:\\d+/i, /^rtp\\/@?239\\.\\d+\\.\\d+\\.\\d+:\\d+/i, /^udp\\/@?225\\.\\d+\\.\\d+\\.\\d+:\\d+/i, /^rtp\\/@?225\\.\\d+\\.\\d+\\.\\d+:\\d+/i, /^udp\\/@?224\\.\\d+\\.\\d+\\.\\d+:\\d+/i, /^rtp\\/@?224\\.\\d+\\.\\d+\\.\\d+:\\d+/i,\n      // 带端口的格式\n      /^(udp|rtp):\\/\\/@?239\\.\\d+\\.\\d+\\.\\d+:\\d+/i, /^(udp|rtp):\\/\\/@?225\\.\\d+\\.\\d+\\.\\d+:\\d+/i, /^(udp|rtp):\\/\\/@?224\\.\\d+\\.\\d+\\.\\d+:\\d+/i,\n      // 特殊格式\n      /^(udp|rtp)[/](239|225|224)\\.\\d+\\.\\d+\\.\\d+[/]?(\\d+)?/i, /^(udp|rtp):\\/\\/(239|225|224)\\.\\d+\\.\\d+\\.\\d+[/]?(\\d+)?/i,\n      // HTTP代理的UDP/RTP多播源格式\n      /http:\\/\\/[^/]+[/](udp|rtp)[/]224\\.\\d+\\.\\d+\\.\\d+:\\d+/i, /http:\\/\\/[^/]+[/](udp|rtp)[/]225\\.\\d+\\.\\d+\\.\\d+:\\d+/i, /http:\\/\\/[^/]+[/](udp|rtp)[/]239\\.\\d+\\.\\d+\\.\\d+:\\d+/i,\n      // HTTPS代理的UDP/RTP多播源格式\n      /https:\\/\\/[^/]+[/](udp|rtp)[/]224\\.\\d+\\.\\d+\\.\\d+:\\d+/i, /https:\\/\\/[^/]+[/](udp|rtp)[/]225\\.\\d+\\.\\d+\\.\\d+:\\d+/i, /https:\\/\\/[^/]+[/](udp|rtp)[/]239\\.\\d+\\.\\d+\\.\\d+:\\d+/i,\n      // 任何包含 udp 或 rtp 的链接\n      /^(udp|rtp):\\/\\//i, /\\/(udp|rtp)\\//i, /^(udp|rtp)@/i];\n\n      // 先转换为小写进行检查\n      const lowerUrl = url.toLowerCase();\n      const isMulticast = patterns.some(pattern => pattern.test(lowerUrl));\n      if (isMulticast) {\n        console.log('检测到多播源:', url);\n      }\n      return isMulticast;\n    },\n    // 检查多播源的方法\n    checkMulticastStreams() {\n      try {\n        const appSettings = localStorage.getItem('appSettings');\n        if (!appSettings) {\n          console.log('未找到设置配置');\n          return;\n        }\n        let settings;\n        try {\n          settings = JSON.parse(appSettings);\n        } catch (e) {\n          console.error('解析设置失败:', e);\n          return;\n        }\n\n        // 如果启用了自动清除多播源\n        if (settings.autoRemoveMulticast === true) {\n          console.log('开始检查多播源...');\n          let removedCount = 0;\n          const toRemove = [];\n\n          // 检查所有流\n          this.streamList.forEach((stream, index) => {\n            if (this.isMulticastStream(stream.url)) {\n              toRemove.push(index);\n              removedCount++;\n              console.log('发现多播源:', stream.url);\n            }\n          });\n\n          // 从后向前删除\n          for (let i = toRemove.length - 1; i >= 0; i--) {\n            const index = toRemove[i];\n            const stream = this.streamList[index];\n            console.log('正在删除多播源:', stream.name, stream.url);\n            this.streamList.splice(index, 1);\n            this.handleStreamRemoval(stream, '多播源');\n          }\n          if (removedCount > 0) {\n            console.log(`成功清除 ${removedCount} 个多播源`);\n            this.$message.warning(`已自动清除 ${removedCount} 个多播源`);\n            this.saveStreamList();\n\n            // 如果当前页没有数据，跳转到上一页\n            if (this.paginatedData.length === 0 && this.currentPage > 1) {\n              this.currentPage--;\n            }\n          }\n        }\n      } catch (error) {\n        console.error('检查多播源失败:', error);\n      }\n    },\n    async checkStream(stream) {\n      // 优先从 appSettings 中读取 FFprobe 路径\n      let ffprobePath = '';\n      try {\n        const appSettings = localStorage.getItem('appSettings');\n        if (appSettings) {\n          const settings = JSON.parse(appSettings);\n          ffprobePath = settings.ffprobePath;\n        }\n      } catch (error) {\n        console.error('读取 appSettings 失败:', error);\n      }\n\n      // 如果 appSettings 中没有，则从独立设置中读取\n      if (!ffprobePath) {\n        ffprobePath = localStorage.getItem('ffprobePath');\n      }\n      if (!ffprobePath) {\n        console.error('未找到 FFprobe 路径配置');\n        this.$message.error('请先在系统设置中配置FFprobe路径');\n        return false;\n      }\n      try {\n        const startTime = Date.now();\n        const response = await fetch(`${this.getBaseUrl()}/api/check-url`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            url: stream.url,\n            ffprobePath: ffprobePath\n          })\n        });\n        const result = await response.json();\n        const endTime = Date.now();\n        this.importUrlForm.isAccessible = result.accessible;\n      } catch (error) {\n        console.error('检查链接可达性失败:', error);\n        this.importUrlForm.isAccessible = false;\n      } finally {\n        this.importUrlForm.isChecking = false;\n      }\n    },\n    async handleImportUrl() {\n      if (!this.importUrlForm.url) {\n        this.$message.warning('请输入文件链接');\n        return;\n      }\n\n      // 如果链接未经过检测或检测失败，先进行检测\n      if (this.importUrlForm.isAccessible === null || this.importUrlForm.isAccessible === false) {\n        await this.checkUrlAccessibility();\n        if (!this.importUrlForm.isAccessible) {\n          return;\n        }\n      }\n      try {\n        // 获取文件内容\n        const response = await fetch(this.importUrlForm.url);\n        if (!response.ok) throw new Error('获取文件失败');\n        const content = await response.text();\n        const newStreams = this.parseContent(content);\n        if (newStreams.length > 0) {\n          // 提取URL列表并过滤重复项\n          const existingUrls = new Set(this.streamList.map(s => s.url));\n          const uniqueStreams = newStreams.filter(s => !existingUrls.has(s.url));\n          if (uniqueStreams.length > 0) {\n            // 批量添加到列表\n            this.streamList.push(...uniqueStreams);\n            this.$message.success(`成功导入 ${uniqueStreams.length} 个直播源`);\n            this.importUrlDialogVisible = false;\n          } else {\n            this.$message.info('没有新的直播源可以导入');\n          }\n        } else {\n          this.$message.warning('未找到有效的直播源');\n        }\n      } catch (error) {\n        console.error('导入失败:', error);\n        this.$message.error('导入失败: ' + error.message);\n      } finally {\n        this.importUrlForm.isChecking = false;\n      }\n    },\n    getPlaceholderText() {\n      switch (this.collectForm.mode) {\n        case 'tv':\n          return '请输入包含央视或卫视频道的网络地址';\n        default:\n          return '请输入需要采集的网络地址';\n      }\n    },\n    async handleCollectUrlsFileUpload(event) {\n      const file = event.target.files[0];\n      if (!file) return;\n      try {\n        const content = await this.readFile(file);\n        // 按行分割并过滤空行\n        const urls = content.split('\\n').map(line => line.trim()).filter(line => line && line.length > 0);\n        if (urls.length === 0) {\n          this.$message.warning('文件中未找到有效的URL地址');\n          return;\n        }\n\n        // 验证URL格式\n        const invalidUrls = urls.filter(url => !/^https?:\\/\\/.+/.test(url));\n        if (invalidUrls.length > 0) {\n          this.$message.warning(`发现 ${invalidUrls.length} 个无效的URL地址`);\n          return;\n        }\n\n        // 初始化状态对象\n        const urlStatus = {};\n        urls.forEach((_, index) => {\n          urlStatus[index] = {\n            isChecking: false,\n            isAccessible: null\n          };\n        });\n\n        // 使用Vue的响应式更新\n        this.$set(this.collectForm, 'urls', urls);\n        this.$set(this.collectForm, 'urlStatus', urlStatus);\n\n        // 手动触发每个URL的检测\n        this.$nextTick(() => {\n          urls.forEach((url, index) => {\n            this.checkCollectUrlAccessibility(url, index);\n          });\n        });\n        this.$message.success(`成功导入 ${urls.length} 个采集地址`);\n      } catch (error) {\n        this.$message.error('读取文件失败：' + error.message);\n      } finally {\n        // 清除文件输入，允许重复选择同一文件\n        event.target.value = '';\n      }\n    },\n    async checkCollectUrlAccessibility(url, index) {\n      if (!url) {\n        console.warn('URL为空，跳过检测');\n        this.$set(this.collectForm.urlStatus, index, {\n          isChecking: false,\n          isAccessible: null,\n          error: '地址为空'\n        });\n        return;\n      }\n\n      // 标准化URL格式\n      let normalizedUrl = url;\n      if (!url.toLowerCase().startsWith('http')) {\n        normalizedUrl = 'http://' + url;\n      }\n      console.log(`开始检测URL (${index}):`, normalizedUrl);\n\n      // 设置检查状态\n      this.$set(this.collectForm.urlStatus, index, {\n        isChecking: true,\n        isAccessible: null,\n        error: null\n      });\n      try {\n        // 添加延迟，避免频繁请求\n        await new Promise(resolve => setTimeout(resolve, 500));\n        const response = await fetch(`${this.getBaseUrl()}/api/check-url`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            url: normalizedUrl\n          })\n        });\n        if (!response.ok) {\n          throw new Error(`HTTP错误: ${response.status}`);\n        }\n        const result = await response.json();\n        console.log(`URL (${index}) 检测结果:`, result);\n\n        // 更新状态\n        this.$set(this.collectForm.urlStatus, index, {\n          isChecking: false,\n          isAccessible: result.accessible,\n          statusCode: result.statusCode,\n          error: result.error\n        });\n\n        // 如果检测失败，记录错误信息\n        if (!result.accessible) {\n          console.warn(`URL (${index}) 不可访问:`, result.error || '未知错误');\n        }\n      } catch (error) {\n        console.error(`URL (${index}) 检测失败:`, error);\n        this.$set(this.collectForm.urlStatus, index, {\n          isChecking: false,\n          isAccessible: false,\n          error: error.message || '检测失败'\n        });\n      }\n    },\n    clearCollectUrls() {\n      this.$confirm('确认清空所有采集地址吗？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        // 重置采集地址列表\n        this.$set(this.collectForm, 'urls', ['']);\n        // 重置状态对象\n        this.$set(this.collectForm, 'urlStatus', {\n          0: {\n            isChecking: false,\n            isAccessible: null\n          }\n        });\n        this.$message.success('已清空采集地址');\n      }).catch(() => {\n        // 用户取消操作\n      });\n    }\n  },\n  watch: {\n    // 只监听数据变化\n    streamList: {\n      handler() {\n        this.updateLinkContent();\n        this.saveState();\n      },\n      deep: true\n    },\n    currentPage() {\n      this.saveState();\n    },\n    pageSize() {\n      this.saveState();\n    },\n    // 监听所有可能的运行状态\n    isChecking() {\n      this.updateActiveStatus();\n    },\n    isCollecting() {\n      this.updateActiveStatus();\n    },\n    isScheduled() {\n      this.updateActiveStatus();\n    },\n    // 添加格式变化监听\n    'linkForm.format'() {\n      if (this.generateLinkDialogVisible) {\n        this.handleGenerateLink();\n      }\n    }\n  },\n  // 组件被激活时（重新显示）\n  activated() {\n    // 如果有定时任务，恢复定时器\n    if (this.isScheduled) {\n      this.setupSchedule();\n    }\n    // 如果有采集任务，且不是从其他页面切换回来，才恢复采集\n    if (this.isCollecting && !this.isPageSwitching) {\n      this.startCollecting(true);\n    }\n    // 如果有GitHub自动同步，恢复同步定时器\n    if (this.syncForm.autoSync) {\n      this.setupSyncSchedule();\n    }\n    // 重置页面切换标志\n    this.isPageSwitching = false;\n  },\n  // 组件被停用时（离开但不销毁）\n  deactivated() {\n    // 设置页面切换标志\n    this.isPageSwitching = true;\n    // 暂停定时器，但保持状态标志\n    if (this.scheduleTimer) {\n      clearInterval(this.scheduleTimer);\n      this.scheduleTimer = null;\n    }\n    // 暂停采集定时器，但保持状态标志\n    if (this.collectTimer) {\n      clearInterval(this.collectTimer);\n      this.collectTimer = null;\n    }\n    // 暂停同步定时器，但保持状态标志\n    if (this.syncTimer) {\n      clearInterval(this.syncTimer);\n      this.syncTimer = null;\n    }\n  }\n};","map":{"version":3,"names":["name","data","loading","streamList","importUrlDialogVisible","importUrlForm","url","isChecking","isAccessible","importRules","required","message","trigger","type","group","currentPage","pageSize","isPaused","checkedCount","totalCount","pausedIndex","shouldStop","isCollecting","collectDialogVisible","collectForm","urls","urlStatus","autoCollect","collectType","executeTime","weekDay","mode","collectRules","validator","rule","value","callback","length","Error","errors","map","test","filter","error","collectTimer","generateLinkDialogVisible","generatedLink","previewContent","currentLinkId","scheduleDialogVisible","isScheduled","scheduleForm","scheduleType","scheduleRules","scheduleTimer","nextScheduleTime","stateKey","hasActiveOperations","linkForm","format","searchDialogVisible","searchForm","status","filteredList","realIp","syncDialogVisible","syncForm","token","localStorage","getItem","repo","txtPath","m3uPath","autoSync","syncType","syncRules","pattern","syncTimer","messages","messageId","isPageSwitching","STANDARD_GROUPS","CCTV","SATELLITE","computed","paginatedData","start","end","slice","checkButtonText","mergedStreams","streamMap","Map","forEach","stream","key","has","existing","get","includes","push","set","Array","from","values","groupOptions","Set","item","created","savedList","JSON","parse","$nextTick","checkMulticastStreams","$root","$on","saveStreamList","handleSettingsUpdate","restoreState","setupSchedule","startCollecting","setupSyncSchedule","getRealIp","beforeDestroy","$off","clearInterval","stopScheduleCheck","saveState","window","removeEventListener","handleBeforeUnload","methods","event","console","log","settings","isMulticastStream","patterns","lowerUrl","toLowerCase","isMulticast","some","appSettings","e","autoRemoveMulticast","removedCount","toRemove","index","i","splice","handleStreamRemoval","$message","warning","checkStream","ffprobePath","startTime","Date","now","response","fetch","getBaseUrl","method","headers","body","stringify","result","json","endTime","accessible","handleImportUrl","checkUrlAccessibility","ok","content","text","newStreams","parseContent","existingUrls","s","uniqueStreams","success","info","getPlaceholderText","handleCollectUrlsFileUpload","file","target","files","readFile","split","line","trim","invalidUrls","_","$set","checkCollectUrlAccessibility","warn","normalizedUrl","startsWith","Promise","resolve","setTimeout","statusCode","clearCollectUrls","$confirm","confirmButtonText","cancelButtonText","then","catch","watch","handler","updateLinkContent","deep","updateActiveStatus","linkForm.format","handleGenerateLink","activated","deactivated"],"sources":["src/components/StreamCheck.vue"],"sourcesContent":["<template>\n  <div class=\"stream-check\">\n    <!-- 修改消息面板位置和样式 -->\n    <div class=\"message-panel\" :class=\"{ 'has-messages': messages.length > 0 }\">\n      <transition-group name=\"message-list\">\n        <div v-for=\"msg in messages\" :key=\"msg.id\" class=\"message-item\">\n          <i class=\"el-icon-delete\"></i>\n          <span class=\"message-content\">{{ msg.content }}</span>\n        </div>\n      </transition-group>\n    </div>\n\n    <div class=\"table-operations\">\n      <div class=\"button-groups\">\n        <div class=\"button-group\">\n      <el-button-group>\n        <el-button\n            type=\"primary\"\n            icon=\"el-icon-upload2\"\n            @click=\"$refs.fileInput.click()\"\n            :disabled=\"isCollecting\">\n          导入本地文件\n        </el-button>\n        <el-button\n            type=\"primary\"\n            icon=\"el-icon-download\"\n            @click=\"importUrlDialogVisible = true\"\n            :disabled=\"isCollecting\">\n          导入网络文件\n        </el-button>\n      </el-button-group>\n        </div>\n\n        <div class=\"button-group\">\n      <el-button-group>\n        <el-button\n            type=\"success\"\n            icon=\"el-icon-refresh\"\n            @click=\"handleBatchCheck\"\n            :loading=\"isChecking\">\n          {{ checkButtonText }}\n        </el-button>\n        <el-button\n            v-if=\"isChecking\"\n            type=\"warning\"\n            icon=\"el-icon-video-pause\"\n            @click=\"pauseCheck\">\n          暂停检测\n        </el-button>\n        <el-button\n            v-if=\"isPaused\"\n            type=\"primary\"\n            icon=\"el-icon-video-play\"\n            @click=\"resumeCheck\">\n          继续检测\n        </el-button>\n        <el-button\n            type=\"danger\"\n            icon=\"el-icon-delete\"\n            @click=\"handleClearList\">\n          清空列表\n        </el-button>\n      </el-button-group>\n        </div>\n\n        <div class=\"button-group\">\n      <el-button-group>\n        <el-button\n            :type=\"isCollecting ? 'danger' : 'primary'\"\n            icon=\"el-icon-connection\"\n            @click=\"handleCollectMode\">\n          {{ isCollecting ? '停止采集' : '采集模式' }}\n        </el-button>\n      </el-button-group>\n        </div>\n\n        <div class=\"button-group\">\n      <el-button-group>\n        <el-button\n            type=\"primary\"\n            icon=\"el-icon-link\"\n            @click=\"handleGenerateLink\">\n          生成链接\n        </el-button>\n        <el-button\n            type=\"success\"\n            icon=\"el-icon-upload\"\n            @click=\"syncDialogVisible = true\">\n          同步到GitHub\n        </el-button>\n      </el-button-group>\n        </div>\n\n        <div class=\"button-group\">\n      <el-button-group>\n        <el-button\n            :type=\"isScheduled ? 'danger' : 'primary'\"\n            icon=\"el-icon-timer\"\n            @click=\"handleScheduleCheck\">\n          {{ isScheduled ? '停止定时' : '定时检测' }}\n        </el-button>\n      </el-button-group>\n        </div>\n\n        <div class=\"button-group\">\n      <el-button-group>\n        <el-button\n            :type=\"filteredList.length > 0 ? 'danger' : 'primary'\"\n            icon=\"el-icon-search\"\n            @click=\"filteredList.length > 0 ? resetSearch() : searchDialogVisible = true\">\n          {{ filteredList.length > 0 ? '重置' : '搜索' }}\n        </el-button>\n      </el-button-group>\n        </div>\n      </div>\n\n      <!-- 隐藏的文件输入框 -->\n      <input\n          type=\"file\"\n          ref=\"fileInput\"\n          style=\"display: none\"\n          accept=\".txt,.m3u,.m3u8\"\n          @change=\"handleFileUpload\"\n      >\n    </div>\n\n    <div class=\"el-table-wrapper\">\n      <el-table\n          :data=\"paginatedData\"\n          border\n          style=\"width: 100%\">\n        <el-table-column\n            prop=\"name\"\n            label=\"名称\"\n            min-width=\"120\"\n            align=\"center\">\n        </el-table-column>\n\n        <el-table-column\n            prop=\"url\"\n            label=\"链接\"\n            min-width=\"200\"\n            align=\"center\"\n            show-overflow-tooltip>\n        </el-table-column>\n\n        <el-table-column\n            prop=\"resolution\"\n            label=\"分辨率\"\n            width=\"120\"\n            align=\"center\">\n          <template slot-scope=\"scope\">\n            <el-tag\n                :type=\"getResolutionTagType(scope.row.resolution)\">\n              {{ scope.row.resolution || '未知' }}\n            </el-tag>\n          </template>\n        </el-table-column>\n\n        <el-table-column\n            prop=\"bitrate\"\n            label=\"比特率\"\n            width=\"120\"\n            align=\"center\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.bitrate || '-' }}</span>\n          </template>\n        </el-table-column>\n\n        <el-table-column\n            prop=\"responseTime\"\n            label=\"响应速度\"\n            width=\"120\"\n            align=\"center\">\n          <template slot-scope=\"scope\">\n            <el-tag\n                :type=\"getResponseTimeTagType(scope.row.responseTime)\">\n              {{ scope.row.responseTime === '-' ? '-' : scope.row.responseTime + 'ms' }}\n            </el-tag>\n          </template>\n        </el-table-column>\n\n        <el-table-column\n            prop=\"group\"\n            label=\"分组\"\n            width=\"120\"\n            align=\"center\">\n          <template slot-scope=\"scope\">\n            <el-tag\n                type=\"info\">\n              {{ scope.row.group }}\n            </el-tag>\n          </template>\n        </el-table-column>\n\n        <el-table-column\n            prop=\"status\"\n            label=\"状态\"\n            width=\"100\"\n            align=\"center\">\n          <template slot-scope=\"scope\">\n            <el-tag :type=\"getStatusTagType(scope.row.status)\">\n              {{ scope.row.status }}\n            </el-tag>\n          </template>\n        </el-table-column>\n\n        <el-table-column\n            label=\"操作\"\n            width=\"120\"\n            align=\"center\"\n            fixed=\"right\">\n          <template slot-scope=\"scope\">\n            <el-tooltip content=\"复制链接\" placement=\"top\">\n              <el-button\n                  type=\"text\"\n                  icon=\"el-icon-document-copy\"\n                  @click=\"handleCopy(scope.row)\">\n              </el-button>\n            </el-tooltip>\n            <el-tooltip content=\"删除\" placement=\"top\">\n              <el-button\n                  type=\"text\"\n                  class=\"delete-btn\"\n                  icon=\"el-icon-delete\"\n                  @click=\"handleDelete(scope.row)\">\n              </el-button>\n            </el-tooltip>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n\n    <!-- 添加分页组件 -->\n    <div class=\"pagination-container\">\n      <el-pagination\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n          :current-page=\"currentPage\"\n          :page-sizes=\"[5, 10, 20, 50]\"\n          :page-size=\"pageSize\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"filteredList.length || streamList.length\">\n      </el-pagination>\n    </div>\n\n    <!-- 添加/编辑对话框 -->\n    <el-dialog\n        title=\"导入网络文件\"\n        :visible.sync=\"importUrlDialogVisible\"\n        width=\"500px\"\n        :close-on-click-modal=\"false\"\n        @closed=\"importUrlForm = { url: '', isChecking: false, isAccessible: null }\">\n      <el-form ref=\"importUrlForm\" label-width=\"80px\">\n        <el-form-item label=\"文件链接\" required>\n          <el-input\n            v-model=\"importUrlForm.url\"\n            placeholder=\"请输入直播源文件链接\"\n            @input=\"checkUrlAccessibility\">\n            <template slot=\"append\">\n              <i v-if=\"importUrlForm.isChecking\" class=\"el-icon-loading\"></i>\n              <i v-else-if=\"importUrlForm.isAccessible === true\" class=\"el-icon-success\" style=\"color: #67C23A\"></i>\n              <i v-else-if=\"importUrlForm.isAccessible === false\" class=\"el-icon-error\" style=\"color: #F56C6C\"></i>\n            </template>\n          </el-input>\n        </el-form-item>\n        <div v-if=\"importUrlForm.isAccessible === false\" style=\"color: #F56C6C; font-size: 12px; margin-bottom: 10px;\">\n          该链接无法访问，请检查链接是否正确\n        </div>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"importUrlDialogVisible = false\">取 消</el-button>\n        <el-button\n          type=\"primary\"\n          @click=\"handleImportUrl\"\n          :loading=\"importUrlForm.isChecking\"\n          :disabled=\"!importUrlForm.url || importUrlForm.isAccessible === false\">\n          确 定\n        </el-button>\n      </div>\n    </el-dialog>\n\n    <!-- 采集模式设置对话框 -->\n    <el-dialog\n        title=\"采集模式设置\"\n        :visible.sync=\"collectDialogVisible\"\n        width=\"500px\">\n      <el-form :model=\"collectForm\" label-width=\"100px\" ref=\"collectForm\" :rules=\"collectRules\">\n        <!-- 采集模式选择 -->\n        <el-form-item label=\"采集模式\">\n          <el-radio-group v-model=\"collectForm.mode\">\n            <el-radio label=\"all\">全部采集</el-radio>\n            <el-radio label=\"tv\">央视卫视专采</el-radio>\n          </el-radio-group>\n        </el-form-item>\n\n        <!-- 采集地址列表 -->\n        <el-form-item\n            v-for=\"(url, index) in collectForm.urls\"\n            :key=\"index\"\n            :label=\"index === 0 ? '采集地址' : ''\"\n            :prop=\"'urls.' + index\">\n          <el-input\n              v-model=\"collectForm.urls[index]\"\n              placeholder=\"请输入需要采集的网络地址\"\n              @input=\"(val) => checkCollectUrlAccessibility(val, index)\">\n            <template slot=\"append\">\n              <i v-if=\"collectForm.urlStatus && collectForm.urlStatus[index] && collectForm.urlStatus[index].isChecking\" class=\"el-icon-loading\"></i>\n              <i v-else-if=\"collectForm.urlStatus && collectForm.urlStatus[index] && collectForm.urlStatus[index].isAccessible === true\" class=\"el-icon-success\" style=\"color: #67C23A\"></i>\n              <i v-else-if=\"collectForm.urlStatus && collectForm.urlStatus[index] && collectForm.urlStatus[index].isAccessible === false\" class=\"el-icon-error\" style=\"color: #F56C6C\"></i>\n              <el-button\n                  icon=\"el-icon-delete\"\n                  @click=\"removeCollectUrl(index)\"\n                  v-if=\"collectForm.urls.length > 1\">\n              </el-button>\n            </template>\n          </el-input>\n          <div v-if=\"collectForm.urlStatus && collectForm.urlStatus[index] && collectForm.urlStatus[index].isAccessible === false\"\n               style=\"color: #F56C6C; font-size: 12px; margin-top: 5px;\">\n            该链接无法访问，请检查链接是否正确\n          </div>\n        </el-form-item>\n\n        <!-- 添加地址按钮和导入按钮 -->\n        <el-form-item>\n          <div style=\"display: flex; gap: 10px;\">\n          <el-button\n              type=\"text\"\n              icon=\"el-icon-plus\"\n              @click=\"addCollectUrl\">\n            添加采集地址\n          </el-button>\n            <el-button\n                type=\"text\"\n                icon=\"el-icon-upload2\"\n                @click=\"$refs.collectUrlsFileInput.click()\">\n              导入地址文件\n            </el-button>\n            <el-button\n                type=\"text\"\n                icon=\"el-icon-delete\"\n                style=\"color: #F56C6C;\"\n                @click=\"clearCollectUrls\">\n              清空采集地址\n            </el-button>\n            <input\n                type=\"file\"\n                ref=\"collectUrlsFileInput\"\n                style=\"display: none\"\n                accept=\".txt\"\n                @change=\"handleCollectUrlsFileUpload\">\n          </div>\n        </el-form-item>\n\n        <el-form-item label=\"自动采集\">\n          <el-switch v-model=\"collectForm.autoCollect\"></el-switch>\n        </el-form-item>\n\n        <!-- 采集时间设置 -->\n        <template v-if=\"collectForm.autoCollect\">\n          <el-form-item label=\"采集周期\" prop=\"collectType\">\n            <el-radio-group v-model=\"collectForm.collectType\">\n              <el-radio label=\"daily\">每天</el-radio>\n              <el-radio label=\"weekly\">每周</el-radio>\n            </el-radio-group>\n          </el-form-item>\n\n          <el-form-item label=\"执行时间\" prop=\"executeTime\">\n            <el-time-picker\n                v-model=\"collectForm.executeTime\"\n                format=\"HH:mm\"\n                value-format=\"HH:mm\"\n                placeholder=\"选择时间\">\n            </el-time-picker>\n          </el-form-item>\n\n          <el-form-item\n              label=\"执行日期\"\n              prop=\"weekDay\"\n              v-if=\"collectForm.collectType === 'weekly'\">\n            <el-select v-model=\"collectForm.weekDay\">\n              <el-option label=\"星期一\" value=\"1\"></el-option>\n              <el-option label=\"星期二\" value=\"2\"></el-option>\n              <el-option label=\"星期三\" value=\"3\"></el-option>\n              <el-option label=\"星期四\" value=\"4\"></el-option>\n              <el-option label=\"星期五\" value=\"5\"></el-option>\n              <el-option label=\"星期六\" value=\"6\"></el-option>\n              <el-option label=\"星期日\" value=\"0\"></el-option>\n            </el-select>\n          </el-form-item>\n        </template>\n      </el-form>\n      <div slot=\"footer\">\n        <el-button @click=\"collectDialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"startCollecting\">开始采集</el-button>\n      </div>\n    </el-dialog>\n\n    <!-- 生成链接对话框 -->\n    <el-dialog\n        title=\"生成链接\"\n        :visible.sync=\"generateLinkDialogVisible\"\n        width=\"500px\"\n        custom-class=\"generate-link-dialog\">\n      <div class=\"link-container\">\n        <!-- 添加格式选择 -->\n        <el-form :model=\"linkForm\" label-width=\"80px\">\n          <el-form-item label=\"文件格式\">\n            <el-radio-group v-model=\"linkForm.format\">\n              <el-radio label=\"txt\">TXT格式</el-radio>\n              <el-radio label=\"m3u\">M3U格式</el-radio>\n            </el-radio-group>\n          </el-form-item>\n        </el-form>\n\n        <!-- 链接展示卡片 -->\n        <el-card class=\"link-card\">\n          <div class=\"link-content\">\n            <el-input\n                v-model=\"generatedLink\"\n                placeholder=\"正在生成链接...\"\n                readonly>\n              <template slot=\"prepend\">链接地址</template>\n              <el-button\n                  slot=\"append\"\n                  icon=\"el-icon-document-copy\"\n                  @click=\"copyGeneratedLink\">\n                复制\n              </el-button>\n            </el-input>\n          </div>\n        </el-card>\n\n        <!-- 使用说明 -->\n        <el-card class=\"tips-card\">\n          <div class=\"tips-content\">\n            <ul>\n              <li>生成的链接可以直接在支持网络导入的播放器中使用</li>\n              <li>链接内容会随列表更新而自动更新</li>\n              <li>TXT格式适用于大多数播放器</li>\n              <li>M3U格式提供更好的播放器兼容性</li>\n            </ul>\n          </div>\n        </el-card>\n      </div>\n    </el-dialog>\n\n    <!-- 添加定时检测设置对话框 -->\n    <el-dialog\n        title=\"定时检测设置\"\n        :visible.sync=\"scheduleDialogVisible\"\n        width=\"500px\">\n      <el-form :model=\"scheduleForm\" label-width=\"100px\" ref=\"scheduleForm\" :rules=\"scheduleRules\">\n        <el-form-item label=\"检测周期\" prop=\"scheduleType\">\n          <el-radio-group v-model=\"scheduleForm.scheduleType\">\n            <el-radio label=\"daily\">每天</el-radio>\n            <el-radio label=\"weekly\">每周</el-radio>\n          </el-radio-group>\n        </el-form-item>\n\n        <el-form-item label=\"执行时间\" prop=\"executeTime\">\n          <el-time-picker\n              v-model=\"scheduleForm.executeTime\"\n              format=\"HH:mm\"\n              value-format=\"HH:mm\"\n              placeholder=\"选择时间\">\n          </el-time-picker>\n        </el-form-item>\n\n        <el-form-item\n            label=\"执行日期\"\n            prop=\"weekDay\"\n            v-if=\"scheduleForm.scheduleType === 'weekly'\">\n          <el-select v-model=\"scheduleForm.weekDay\">\n            <el-option label=\"星期一\" value=\"1\"></el-option>\n            <el-option label=\"星期二\" value=\"2\"></el-option>\n            <el-option label=\"星期三\" value=\"3\"></el-option>\n            <el-option label=\"星期四\" value=\"4\"></el-option>\n            <el-option label=\"星期五\" value=\"5\"></el-option>\n            <el-option label=\"星期六\" value=\"6\"></el-option>\n            <el-option label=\"星期日\" value=\"0\"></el-option>\n          </el-select>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\">\n        <el-button @click=\"scheduleDialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"startScheduleCheck\">开始定时</el-button>\n      </div>\n    </el-dialog>\n\n    <!-- 添加搜索对话框 -->\n    <el-dialog\n        title=\"搜索直播源\"\n        :visible.sync=\"searchDialogVisible\"\n        width=\"500px\">\n      <el-form :model=\"searchForm\" label-width=\"80px\">\n        <el-form-item label=\"名称\">\n          <el-input\n              v-model=\"searchForm.name\"\n              placeholder=\"支持模糊搜索\"\n              clearable>\n          </el-input>\n        </el-form-item>\n        <el-form-item label=\"分组\">\n          <el-select\n              v-model=\"searchForm.group\"\n              placeholder=\"请选择\"\n              clearable>\n            <el-option\n                v-for=\"group in groupOptions\"\n                :key=\"group\"\n                :label=\"group\"\n                :value=\"group\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"状态\">\n          <el-select\n              v-model=\"searchForm.status\"\n              placeholder=\"请选择\"\n              clearable>\n            <el-option label=\"正常\" value=\"正常\"></el-option>\n            <el-option label=\"异常\" value=\"异常\"></el-option>\n            <el-option label=\"未检测\" value=\"未检测\"></el-option>\n          </el-select>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\">\n        <el-button @click=\"searchDialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"handleSearch\">搜 索</el-button>\n      </div>\n    </el-dialog>\n\n    <!-- GitHub同步设置对话框 -->\n    <el-dialog\n        title=\"GitHub同步设置\"\n        :visible.sync=\"syncDialogVisible\"\n        width=\"500px\">\n      <el-form :model=\"syncForm\" ref=\"syncForm\" label-width=\"120px\" :rules=\"syncRules\">\n        <el-form-item label=\"GitHub Token\" prop=\"token\">\n          <el-input\n              v-model=\"syncForm.token\"\n              type=\"password\"\n              placeholder=\"请输入GitHub Personal Access Token\"\n              show-password>\n          </el-input>\n        </el-form-item>\n        \n        <el-form-item label=\"仓库名称\" prop=\"repo\">\n          <el-input\n              v-model=\"syncForm.repo\"\n              placeholder=\"格式：用户名/仓库名\">\n          </el-input>\n        </el-form-item>\n        \n        <el-form-item label=\"TXT文件名\" prop=\"txtPath\">\n          <el-input\n              v-model=\"syncForm.txtPath\"\n              placeholder=\"例如：playlist.txt\">\n          </el-input>\n        </el-form-item>\n        \n        <el-form-item label=\"M3U文件名\" prop=\"m3uPath\">\n          <el-input\n              v-model=\"syncForm.m3uPath\"\n              placeholder=\"例如：playlist.m3u\">\n          </el-input>\n        </el-form-item>\n        \n        <el-form-item label=\"定时同步\">\n          <el-switch\n              v-model=\"syncForm.autoSync\"\n              @change=\"handleAutoSyncChange\">\n          </el-switch>\n        </el-form-item>\n        \n        <template v-if=\"syncForm.autoSync\">\n          <el-form-item label=\"同步周期\" prop=\"syncType\">\n            <el-radio-group v-model=\"syncForm.syncType\">\n              <el-radio label=\"daily\">每天</el-radio>\n              <el-radio label=\"weekly\">每周</el-radio>\n              <el-radio label=\"afterCheck\">批量检测完毕后</el-radio>\n            </el-radio-group>\n          </el-form-item>\n\n          <el-form-item\n              label=\"执行时间\"\n              prop=\"executeTime\"\n              v-if=\"syncForm.syncType !== 'afterCheck'\">\n            <el-time-picker\n                v-model=\"syncForm.executeTime\"\n                format=\"HH:mm\"\n                value-format=\"HH:mm\"\n                placeholder=\"选择时间\">\n            </el-time-picker>\n          </el-form-item>\n\n          <el-form-item\n              label=\"执行日期\"\n              prop=\"weekDay\"\n              v-if=\"syncForm.syncType === 'weekly'\">\n            <el-select v-model=\"syncForm.weekDay\">\n              <el-option label=\"星期一\" value=\"1\"></el-option>\n              <el-option label=\"星期二\" value=\"2\"></el-option>\n              <el-option label=\"星期三\" value=\"3\"></el-option>\n              <el-option label=\"星期四\" value=\"4\"></el-option>\n              <el-option label=\"星期五\" value=\"5\"></el-option>\n              <el-option label=\"星期六\" value=\"6\"></el-option>\n              <el-option label=\"星期日\" value=\"0\"></el-option>\n            </el-select>\n          </el-form-item>\n        </template>\n        \n        <el-form-item label=\"提交信息\" prop=\"message\">\n          <el-input\n              v-model=\"syncForm.message\"\n              placeholder=\"更新说明\">\n          </el-input>\n        </el-form-item>\n      </el-form>\n      \n      <div slot=\"footer\">\n        <el-button @click=\"syncDialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"saveGithubSettings\">保 存</el-button>\n      </div>\n    </el-dialog>\n  </div>\n\n</template>\n\n<script>\nexport default {\n  name: 'StreamCheck',\n  data() {\n    return {\n      loading: false,\n      streamList: [],\n      importUrlDialogVisible: false,\n      importUrlForm: {\n        url: '',\n        isChecking: false,\n        isAccessible: null\n      },\n      importRules: {\n        url: [\n          { required: true, message: '请输入URL地址', trigger: 'blur' },\n          { type: 'url', message: '请输入正确的URL地址', trigger: ['blur', 'change'] }\n        ],\n        group: [\n          { required: true, message: '请选择分组', trigger: 'change' }\n        ]\n      },\n      currentPage: 1,\n      pageSize: 5,\n      isChecking: false,\n      isPaused: false,\n      checkedCount: 0,\n      totalCount: 0,\n      pausedIndex: -1,\n      shouldStop: false,\n      isCollecting: false,\n      collectDialogVisible: false,\n      collectForm: {\n        urls: [''],\n        urlStatus: {},  // 添加urlStatus对象\n        autoCollect: false,\n        collectType: 'daily',\n        executeTime: '09:00',\n        weekDay: '1',\n        mode: 'tv'\n      },\n      collectRules: {\n        urls: [\n          { \n            type: 'array',\n            validator: (rule, value, callback) => {\n              if (value.length === 0) {\n                callback(new Error('请至少添加一个采集地址'))\n              }\n              // 验证每个URL\n              const errors = value.map(url => {\n                if (!url) return '采集地址不能为空'\n                if (!/^https?:\\/\\/.+/.test(url)) return '请输入正确的URL地址'\n                return null\n              }).filter(error => error !== null)\n              \n              if (errors.length > 0) {\n                callback(new Error(errors[0]))\n              } else {\n                callback()\n              }\n            },\n            trigger: 'change'\n          }\n        ],\n        executeTime: [\n          { required: true, message: '请选择执行时间', trigger: 'change' }\n        ],\n        weekDay: [\n          { required: true, message: '请选择执行日期', trigger: 'change' }\n        ]\n      },\n      collectTimer: null,\n      generateLinkDialogVisible: false,\n      generatedLink: '',\n      previewContent: '',  // 新增预览内容\n      currentLinkId: '',\n      scheduleDialogVisible: false,\n      isScheduled: false,\n      scheduleForm: {\n        scheduleType: 'daily',\n        executeTime: '09:00',\n        weekDay: '1'\n      },\n      scheduleRules: {\n        executeTime: [\n          { required: true, message: '请选择执行时间', trigger: 'change' }\n        ],\n        weekDay: [\n          { required: true, message: '请选择执行日期', trigger: 'change' }\n        ]\n      },\n      scheduleTimer: null,\n      nextScheduleTime: null,\n      stateKey: 'streamCheckState', // 用于本地存储的key\n      hasActiveOperations: false,  // 添加标记表示是否有动作在执行\n      linkForm: {\n        format: 'txt' // 默认txt格式\n      },\n      searchDialogVisible: false,\n      searchForm: {\n        name: '',\n        group: '',\n        status: ''\n      },\n      filteredList: [], // 用于存储搜索过滤后的列表\n      realIp: '',  // 存储真实IP地址\n      syncDialogVisible: false,\n      syncForm: {\n        token: localStorage.getItem('githubToken') || '',\n        repo: localStorage.getItem('githubRepo') || '',\n        txtPath: localStorage.getItem('githubTxtPath') || '',\n        m3uPath: localStorage.getItem('githubM3uPath') || '',\n        autoSync: localStorage.getItem('githubAutoSync') === 'true',\n        syncType: localStorage.getItem('githubSyncType') || 'daily',\n        executeTime: localStorage.getItem('githubExecuteTime') || '00:00',\n        weekDay: localStorage.getItem('githubWeekDay') || '1',\n        message: '更新直播源列表'\n      },\n      syncRules: {\n        token: [\n          { required: true, message: '请输入GitHub Token', trigger: 'blur' }\n        ],\n        repo: [\n          { required: true, message: '请输入仓库名称', trigger: 'blur' },\n          { pattern: /^[\\w-]+\\/[\\w-]+$/, message: '格式：用户名/仓库名', trigger: 'blur' }\n        ],\n        txtPath: [\n          { required: true, message: '请输入文件路径', trigger: 'blur' }\n        ],\n        m3uPath: [\n          { required: true, message: '请输入文件路径', trigger: 'blur' }\n        ],\n        message: [\n          { required: true, message: '请输入提交消息', trigger: 'blur' }\n        ]\n      },\n      syncTimer: null,\n      messages: [], // 用于存储消息\n      messageId: 0, // 用于生成唯一的消息ID\n      isPageSwitching: false, // 添加页面切换标志\n      // 添加标准分组名称常量\n      STANDARD_GROUPS: {\n        CCTV: '央视频道',\n        SATELLITE: '卫视频道'\n      },\n    }\n  },\n  computed: {\n    paginatedData() {\n      // 使用过滤后的列表进行分页\n      const start = (this.currentPage - 1) * this.pageSize\n      const end = start + this.pageSize\n      return (this.filteredList.length > 0 ? this.filteredList : this.streamList).slice(start, end)\n    },\n    checkButtonText() {\n      if (!this.isChecking && !this.isPaused) {\n        return '批量检测'\n      }\n      return `检测中 ${this.checkedCount}/${this.totalCount}`\n    },\n    mergedStreams() {\n      // 创建一个Map来存储合并后的直播源\n      const streamMap = new Map()\n      \n      // 按照当前列表顺序处理每个直播源\n      this.streamList.forEach(stream => {\n        const key = stream.name // 使用名称作为键\n        \n        if (streamMap.has(key)) {\n          // 如果已存在相同名称的直播源，添加到URLs数组\n          const existing = streamMap.get(key)\n          if (!existing.urls.includes(stream.url)) {\n            existing.urls.push(stream.url)\n          }\n        } else {\n          // 如果是新的名称，创建新条目\n          streamMap.set(key, {\n            name: stream.name,\n            urls: [stream.url],\n            group: stream.group\n          })\n        }\n      })\n      \n      // 转换回数组格式\n      return Array.from(streamMap.values())\n    },\n    groupOptions() {\n      return [...new Set(this.streamList.map(item => item.group))]\n    }\n  },\n  created() {\n    // 初始化时加载持久化的数据\n    if (localStorage.getItem('persistentData') === 'true') {\n      const savedList = localStorage.getItem('streamList')\n      if (savedList) {\n        this.streamList = JSON.parse(savedList)\n        // 初始化时检查多播源\n        this.$nextTick(() => {\n          this.checkMulticastStreams() // 使用新方法\n        })\n      }\n    }\n\n    // 监听保存事件\n    this.$root.$on('save-stream-list', this.saveStreamList)\n    \n    // 监听设置更新事件\n    this.$root.$on('settings-updated', this.handleSettingsUpdate)\n\n    // 从本地存储恢复状态\n    this.restoreState()\n    \n    // 如果定时检测是开启状态，重新启动定时器\n    if (this.isScheduled) {\n      this.setupSchedule()\n    }\n    // 如果采集是开启状态，重新启动采集\n    if (this.isCollecting) {\n      this.startCollecting(true) // true表示是恢复状态\n    }\n    // 如果GitHub自动同步是开启状态，重新启动同步定时器\n    if (this.syncForm.autoSync) {\n      this.setupSyncSchedule()\n    }\n\n    this.filteredList = []\n    this.getRealIp()  // 获取真实IP地址\n  },\n  beforeDestroy() {\n    // 移除事件监听\n    this.$root.$off('save-stream-list', this.saveStreamList)\n    this.$root.$off('settings-updated', this.handleSettingsUpdate)\n    // 组件销毁前清除定时器\n    if (this.collectTimer) {\n      clearInterval(this.collectTimer)\n    }\n    // 组件销毁时清理定时器\n    this.stopScheduleCheck()\n    // 在组件销毁前保存状态\n    this.saveState()\n    window.removeEventListener('beforeunload', this.handleBeforeUnload)\n  },\n  methods: {\n    // 添加处理设置更新的方法\n    handleSettingsUpdate(event) {\n      console.log('收到设置更新事件:', event)\n      if (event && event.type === 'settings-changed' && event.settings) {\n        console.log('设置已更新，当前设置:', event.settings)\n        // 重新检查所有多播源\n        this.$nextTick(() => {\n          this.checkMulticastStreams()\n        })\n      }\n    },\n\n    // 添加多播源检测的辅助方法\n    isMulticastStream(url) {\n      if (!url) return false\n      \n      // 更完整的多播源检测正则表达式\n      const patterns = [\n        // 标准格式\n        /[/](udp|rtp)[/]239\\.\\d+\\.\\d+\\.\\d+:\\d+/i,\n        /[/](udp|rtp)[/]225\\.\\d+\\.\\d+\\.\\d+:\\d+/i,\n        /[/](udp|rtp)[/]224\\.\\d+\\.\\d+\\.\\d+:\\d+/i,\n        // 带@的格式\n        /^(udp|rtp):\\/\\/@239\\.\\d+\\.\\d+\\.\\d+:\\d+/i,\n        /^(udp|rtp):\\/\\/@225\\.\\d+\\.\\d+\\.\\d+:\\d+/i,\n        /^(udp|rtp):\\/\\/@224\\.\\d+\\.\\d+\\.\\d+:\\d+/i,\n        // 不带@的格式\n        /^(udp|rtp):\\/\\/239\\.\\d+\\.\\d+\\.\\d+:\\d+/i,\n        /^(udp|rtp):\\/\\/225\\.\\d+\\.\\d+\\.\\d+:\\d+/i,\n        /^(udp|rtp):\\/\\/224\\.\\d+\\.\\d+\\.\\d+:\\d+/i,\n        // IPv6格式\n        /^(udp|rtp):\\/\\/\\[239\\.\\d+\\.\\d+\\.\\d+\\]:\\d+/i,\n        /^(udp|rtp):\\/\\/\\[225\\.\\d+\\.\\d+\\.\\d+\\]:\\d+/i,\n        /^(udp|rtp):\\/\\/\\[224\\.\\d+\\.\\d+\\.\\d+\\]:\\d+/i,\n        // 其他常见格式\n        /^(udp|rtp):\\/\\/@?239\\.\\d+\\.\\d+\\.\\d+[/]\\d+/i,\n        /^(udp|rtp):\\/\\/@?225\\.\\d+\\.\\d+\\.\\d+[/]\\d+/i,\n        /^(udp|rtp):\\/\\/@?224\\.\\d+\\.\\d+\\.\\d+[/]\\d+/i,\n        // 简单格式\n        /^udp\\/@?239\\.\\d+\\.\\d+\\.\\d+:\\d+/i,\n        /^rtp\\/@?239\\.\\d+\\.\\d+\\.\\d+:\\d+/i,\n        /^udp\\/@?225\\.\\d+\\.\\d+\\.\\d+:\\d+/i,\n        /^rtp\\/@?225\\.\\d+\\.\\d+\\.\\d+:\\d+/i,\n        /^udp\\/@?224\\.\\d+\\.\\d+\\.\\d+:\\d+/i,\n        /^rtp\\/@?224\\.\\d+\\.\\d+\\.\\d+:\\d+/i,\n        // 带端口的格式\n        /^(udp|rtp):\\/\\/@?239\\.\\d+\\.\\d+\\.\\d+:\\d+/i,\n        /^(udp|rtp):\\/\\/@?225\\.\\d+\\.\\d+\\.\\d+:\\d+/i,\n        /^(udp|rtp):\\/\\/@?224\\.\\d+\\.\\d+\\.\\d+:\\d+/i,\n        // 特殊格式\n        /^(udp|rtp)[/](239|225|224)\\.\\d+\\.\\d+\\.\\d+[/]?(\\d+)?/i,\n        /^(udp|rtp):\\/\\/(239|225|224)\\.\\d+\\.\\d+\\.\\d+[/]?(\\d+)?/i,\n        // HTTP代理的UDP/RTP多播源格式\n        /http:\\/\\/[^/]+[/](udp|rtp)[/]224\\.\\d+\\.\\d+\\.\\d+:\\d+/i,\n        /http:\\/\\/[^/]+[/](udp|rtp)[/]225\\.\\d+\\.\\d+\\.\\d+:\\d+/i,\n        /http:\\/\\/[^/]+[/](udp|rtp)[/]239\\.\\d+\\.\\d+\\.\\d+:\\d+/i,\n        // HTTPS代理的UDP/RTP多播源格式\n        /https:\\/\\/[^/]+[/](udp|rtp)[/]224\\.\\d+\\.\\d+\\.\\d+:\\d+/i,\n        /https:\\/\\/[^/]+[/](udp|rtp)[/]225\\.\\d+\\.\\d+\\.\\d+:\\d+/i,\n        /https:\\/\\/[^/]+[/](udp|rtp)[/]239\\.\\d+\\.\\d+\\.\\d+:\\d+/i,\n        // 任何包含 udp 或 rtp 的链接\n        /^(udp|rtp):\\/\\//i,\n        /\\/(udp|rtp)\\//i,\n        /^(udp|rtp)@/i\n      ]\n      \n      // 先转换为小写进行检查\n      const lowerUrl = url.toLowerCase()\n      const isMulticast = patterns.some(pattern => pattern.test(lowerUrl))\n            if (isMulticast) {\n        console.log('检测到多播源:', url)\n      }\n      return isMulticast\n    },\n\n    // 检查多播源的方法\n    checkMulticastStreams() {\n      try {\n        const appSettings = localStorage.getItem('appSettings')\n        if (!appSettings) {\n          console.log('未找到设置配置')\n          return\n        }\n\n        let settings\n        try {\n          settings = JSON.parse(appSettings)\n        } catch (e) {\n          console.error('解析设置失败:', e)\n          return\n        }\n\n        // 如果启用了自动清除多播源\n        if (settings.autoRemoveMulticast === true) {\n          console.log('开始检查多播源...')\n          let removedCount = 0\n          const toRemove = []\n\n          // 检查所有流\n          this.streamList.forEach((stream, index) => {\n            if (this.isMulticastStream(stream.url)) {\n              toRemove.push(index)\n              removedCount++\n              console.log('发现多播源:', stream.url)\n            }\n          })\n\n          // 从后向前删除\n          for (let i = toRemove.length - 1; i >= 0; i--) {\n            const index = toRemove[i]\n            const stream = this.streamList[index]\n            console.log('正在删除多播源:', stream.name, stream.url)\n            this.streamList.splice(index, 1)\n            this.handleStreamRemoval(stream, '多播源')\n          }\n\n          if (removedCount > 0) {\n            console.log(`成功清除 ${removedCount} 个多播源`)\n            this.$message.warning(`已自动清除 ${removedCount} 个多播源`)\n          this.saveStreamList()\n          \n          // 如果当前页没有数据，跳转到上一页\n          if (this.paginatedData.length === 0 && this.currentPage > 1) {\n            this.currentPage--\n            }\n          }\n        }\n      } catch (error) {\n        console.error('检查多播源失败:', error)\n      }\n    },\n\n    async checkStream(stream) {\n      // 优先从 appSettings 中读取 FFprobe 路径\n      let ffprobePath = ''\n      try {\n        const appSettings = localStorage.getItem('appSettings')\n        if (appSettings) {\n          const settings = JSON.parse(appSettings)\n          ffprobePath = settings.ffprobePath\n        }\n      } catch (error) {\n        console.error('读取 appSettings 失败:', error)\n      }\n\n      // 如果 appSettings 中没有，则从独立设置中读取\n      if (!ffprobePath) {\n        ffprobePath = localStorage.getItem('ffprobePath')\n      }\n\n      if (!ffprobePath) {\n        console.error('未找到 FFprobe 路径配置')\n        this.$message.error('请先在系统设置中配置FFprobe路径')\n        return false\n      }\n\n      try {\n        const startTime = Date.now()\n        const response = await fetch(`${this.getBaseUrl()}/api/check-url`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            url: stream.url,\n            ffprobePath: ffprobePath\n          })\n        })\n\n        const result = await response.json()\n        const endTime = Date.now()\n        this.importUrlForm.isAccessible = result.accessible\n      } catch (error) {\n        console.error('检查链接可达性失败:', error)\n        this.importUrlForm.isAccessible = false\n      } finally {\n        this.importUrlForm.isChecking = false\n      }\n    },\n    async handleImportUrl() {\n      if (!this.importUrlForm.url) {\n        this.$message.warning('请输入文件链接')\n        return\n      }\n\n      // 如果链接未经过检测或检测失败，先进行检测\n      if (this.importUrlForm.isAccessible === null || this.importUrlForm.isAccessible === false) {\n        await this.checkUrlAccessibility()\n        if (!this.importUrlForm.isAccessible) {\n          return\n        }\n      }\n\n      try {\n        // 获取文件内容\n        const response = await fetch(this.importUrlForm.url)\n        if (!response.ok) throw new Error('获取文件失败')\n        \n        const content = await response.text()\n        const newStreams = this.parseContent(content)\n        \n        if (newStreams.length > 0) {\n          // 提取URL列表并过滤重复项\n          const existingUrls = new Set(this.streamList.map(s => s.url))\n          const uniqueStreams = newStreams.filter(s => !existingUrls.has(s.url))\n          \n          if (uniqueStreams.length > 0) {\n            // 批量添加到列表\n            this.streamList.push(...uniqueStreams)\n            this.$message.success(`成功导入 ${uniqueStreams.length} 个直播源`)\n            this.importUrlDialogVisible = false\n          } else {\n            this.$message.info('没有新的直播源可以导入')\n          }\n        } else {\n          this.$message.warning('未找到有效的直播源')\n        }\n      } catch (error) {\n        console.error('导入失败:', error)\n        this.$message.error('导入失败: ' + error.message)\n      } finally {\n        this.importUrlForm.isChecking = false\n      }\n    },\n    getPlaceholderText() {\n      switch (this.collectForm.mode) {\n        case 'tv':\n          return '请输入包含央视或卫视频道的网络地址'\n        default:\n          return '请输入需要采集的网络地址'\n      }\n    },\n    async handleCollectUrlsFileUpload(event) {\n      const file = event.target.files[0]\n      if (!file) return\n\n      try {\n        const content = await this.readFile(file)\n        // 按行分割并过滤空行\n        const urls = content.split('\\n')\n          .map(line => line.trim())\n          .filter(line => line && line.length > 0)\n        \n        if (urls.length === 0) {\n          this.$message.warning('文件中未找到有效的URL地址')\n          return\n        }\n\n        // 验证URL格式\n        const invalidUrls = urls.filter(url => !/^https?:\\/\\/.+/.test(url))\n        if (invalidUrls.length > 0) {\n          this.$message.warning(`发现 ${invalidUrls.length} 个无效的URL地址`)\n          return\n        }\n\n        // 初始化状态对象\n        const urlStatus = {}\n        urls.forEach((_, index) => {\n          urlStatus[index] = {\n            isChecking: false,\n            isAccessible: null\n          }\n        })\n        \n        // 使用Vue的响应式更新\n        this.$set(this.collectForm, 'urls', urls)\n        this.$set(this.collectForm, 'urlStatus', urlStatus)\n        \n        // 手动触发每个URL的检测\n        this.$nextTick(() => {\n          urls.forEach((url, index) => {\n            this.checkCollectUrlAccessibility(url, index)\n          })\n        })\n\n        this.$message.success(`成功导入 ${urls.length} 个采集地址`)\n      } catch (error) {\n        this.$message.error('读取文件失败：' + error.message)\n      } finally {\n        // 清除文件输入，允许重复选择同一文件\n        event.target.value = ''\n      }\n    },\n    async checkCollectUrlAccessibility(url, index) {\n      if (!url) {\n        console.warn('URL为空，跳过检测')\n        this.$set(this.collectForm.urlStatus, index, {\n          isChecking: false,\n          isAccessible: null,\n          error: '地址为空'\n        })\n        return\n      }\n\n      // 标准化URL格式\n      let normalizedUrl = url\n      if (!url.toLowerCase().startsWith('http')) {\n        normalizedUrl = 'http://' + url\n      }\n      \n      console.log(`开始检测URL (${index}):`, normalizedUrl)\n      \n      // 设置检查状态\n      this.$set(this.collectForm.urlStatus, index, {\n        isChecking: true,\n        isAccessible: null,\n        error: null\n      })\n      \n      try {\n        // 添加延迟，避免频繁请求\n        await new Promise(resolve => setTimeout(resolve, 500))\n        \n        const response = await fetch(`${this.getBaseUrl()}/api/check-url`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({ url: normalizedUrl })\n        })\n        \n        if (!response.ok) {\n          throw new Error(`HTTP错误: ${response.status}`)\n        }\n\n        const result = await response.json()\n        console.log(`URL (${index}) 检测结果:`, result)\n        \n        // 更新状态\n        this.$set(this.collectForm.urlStatus, index, {\n          isChecking: false,\n          isAccessible: result.accessible,\n          statusCode: result.statusCode,\n          error: result.error\n        })\n\n        // 如果检测失败，记录错误信息\n        if (!result.accessible) {\n          console.warn(`URL (${index}) 不可访问:`, result.error || '未知错误')\n        }\n      } catch (error) {\n        console.error(`URL (${index}) 检测失败:`, error)\n        this.$set(this.collectForm.urlStatus, index, {\n          isChecking: false,\n          isAccessible: false,\n          error: error.message || '检测失败'\n        })\n      }\n    },\n    clearCollectUrls() {\n      this.$confirm('确认清空所有采集地址吗？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        // 重置采集地址列表\n        this.$set(this.collectForm, 'urls', [''])\n        // 重置状态对象\n        this.$set(this.collectForm, 'urlStatus', {\n          0: {\n            isChecking: false,\n            isAccessible: null\n          }\n        })\n        this.$message.success('已清空采集地址')\n      }).catch(() => {\n        // 用户取消操作\n      })\n    },\n  },\n  watch: {\n    // 只监听数据变化\n    streamList: {\n      handler() {\n        this.updateLinkContent()\n        this.saveState()\n      },\n      deep: true\n    },\n    currentPage() {\n      this.saveState()\n    },\n    pageSize() {\n      this.saveState()\n    },\n    // 监听所有可能的运行状态\n    isChecking() {\n      this.updateActiveStatus()\n    },\n    isCollecting() {\n      this.updateActiveStatus()\n    },\n    isScheduled() {\n      this.updateActiveStatus()\n    },\n    // 添加格式变化监听\n    'linkForm.format'() {\n      if (this.generateLinkDialogVisible) {\n        this.handleGenerateLink()\n      }\n    }\n  },\n  // 组件被激活时（重新显示）\n  activated() {\n    // 如果有定时任务，恢复定时器\n    if (this.isScheduled) {\n      this.setupSchedule()\n    }\n    // 如果有采集任务，且不是从其他页面切换回来，才恢复采集\n    if (this.isCollecting && !this.isPageSwitching) {\n      this.startCollecting(true)\n    }\n    // 如果有GitHub自动同步，恢复同步定时器\n    if (this.syncForm.autoSync) {\n      this.setupSyncSchedule()\n    }\n    // 重置页面切换标志\n    this.isPageSwitching = false\n  },\n  // 组件被停用时（离开但不销毁）\n  deactivated() {\n    // 设置页面切换标志\n    this.isPageSwitching = true\n    // 暂停定时器，但保持状态标志\n    if (this.scheduleTimer) {\n      clearInterval(this.scheduleTimer)\n      this.scheduleTimer = null\n    }\n    // 暂停采集定时器，但保持状态标志\n    if (this.collectTimer) {\n      clearInterval(this.collectTimer)\n      this.collectTimer = null\n    }\n    // 暂停同步定时器，但保持状态标志\n    if (this.syncTimer) {\n      clearInterval(this.syncTimer)\n      this.syncTimer = null\n    }\n  }\n}\n</script>\n\n<style scoped>\n.stream-check {\n  padding: 25px;\n  background-color: #fff;\n  border-radius: 4px;\n  height: calc(100vh - 130px);\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  position: relative;\n}\n\n.table-operations {\n  margin-bottom: 20px;\n  flex-shrink: 0;\n}\n\n.button-groups {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 10px;\n  align-items: center;\n}\n\n.button-group {\n  display: flex;\n  align-items: center;\n}\n\n/* 确保按钮组在小屏幕上不会被压缩 */\n:deep(.el-button-group) {\n  white-space: nowrap;\n  margin: 0;\n}\n\n/* 确保按钮内容不会换行 */\n:deep(.el-button) {\n  white-space: nowrap;\n}\n\n/* 在较小屏幕上调整按钮大小 */\n@media screen and (max-width: 768px) {\n  :deep(.el-button) {\n    padding: 8px 15px;\n    font-size: 12px;\n  }\n  \n  :deep(.el-button [class*=\"el-icon-\"]) {\n    font-size: 14px;\n  }\n}\n\n/* 在更小的屏幕上进一步调整 */\n@media screen and (max-width: 576px) {\n  .button-groups {\n    gap: 5px;\n  }\n  \n  :deep(.el-button) {\n    padding: 6px 10px;\n    font-size: 12px;\n  }\n}\n\n/* 添加表格容器样式 */\n.el-table-wrapper {\n  flex: 1;\n  position: relative; /* 添加相对定位 */\n  min-height: 200px; /* 设置最小高度 */\n}\n\n/* 覆盖 element-ui 的表格样式 */\n:deep(.el-table) {\n  position: absolute; /* 绝对定位 */\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  height: 100%;\n  max-height: 100%;\n}\n\n:deep(.el-table__body-wrapper) {\n  height: calc(100% - 40px) !important; /* 减去表头高度 */\n  overflow-y: auto !important;\n}\n\n:deep(.el-table__fixed-right) {\n  height: 100% !important; /* 修复固定列的高度 */\n  bottom: 0px;\n}\n\n:deep(.el-table__fixed-right .el-table__fixed-body-wrapper) {\n  height: calc(100% - 40px) !important; /* 减去表头高度 */\n}\n\n.pagination-container {\n  margin-top: 20px;\n  display: flex;\n  justify-content: center;\n  flex-shrink: 0; /* 防止分页被压缩 */\n  padding-bottom: 10px; /* 添加底部间距 */\n  background-color: #fff; /* 确保分页器背景色 */\n  position: relative; /* 添加相对定位 */\n  z-index: 1; /* 确保分页器在最上层 */\n}\n\n.el-button [class*=\"el-icon-\"] {\n  font-size: 18px;\n}\n\n.delete-btn {\n  color: #F56C6C;\n}\n\n.delete-btn:hover {\n  color: #ff4d4d;\n}\n\n.setting-tip {\n  margin-left: 10px;\n  color: #909399;\n  font-size: 13px;\n}\n\n.link-info {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n}\n\n.link-info p {\n  margin: 0;\n  color: #606266;\n}\n\n.link-actions {\n  display: flex;\n  gap: 10px;\n  justify-content: flex-end;\n  margin-top: 10px;\n}\n\n/* 生成链接对话框样式 */\n.generate-link-dialog {\n  max-width: 600px;\n}\n\n.link-container {\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n}\n\n.link-card, .tips-card {\n  margin: 0;\n  border: 1px solid #EBEEF5;\n}\n\n.link-content {\n  padding: 10px;\n}\n\n.tips-content {\n  color: #606266;\n  font-size: 14px;\n  padding: 10px;\n}\n\n.tips-content ul {\n  margin: 0;\n  padding-left: 20px;\n  line-height: 1.8;\n}\n\n/* 覆盖 element-ui 的一些默认样式 */\n:deep(.el-dialog__body) {\n  padding: 20px;\n}\n\n:deep(.el-card__header) {\n  padding: 12px 20px;\n  font-weight: 500;\n}\n\n:deep(.el-card__body) {\n  padding: 15px;\n}\n\n/* 可以添加一些自定义样式 */\n.el-tag {\n  width: 90px;  /* 统一标签宽度 */\n}\n\n.el-tag + .el-tag {\n  margin-left: 4px;\n}\n\n/* 修改消息面板样式 */\n.message-panel {\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n  width: 300px;\n  z-index: 9999;\n  pointer-events: none;\n  opacity: 0;\n  transition: opacity 0.3s;\n}\n\n.message-panel.has-messages {\n  opacity: 1;\n}\n\n.message-item {\n  background: rgba(64, 158, 255, 0.95);\n  color: white;\n  border-radius: 4px;\n  padding: 10px 15px;\n  margin-bottom: 8px;\n  box-shadow: 0 2px 12px 0 rgba(0,0,0,.1);\n  display: flex;\n  align-items: center;\n  font-size: 14px;\n  transition: all 0.3s;\n}\n\n.message-item i {\n  margin-right: 8px;\n  font-size: 16px;\n}\n\n.message-content {\n  flex: 1;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n/* 消息动画 */\n.message-list-enter-active, .message-list-leave-active {\n  transition: all 0.3s;\n}\n\n.message-list-enter {\n  transform: translateY(100%);\n  opacity: 0;\n}\n\n.message-list-leave-to {\n  transform: translateX(100%);\n  opacity: 0;\n}\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}